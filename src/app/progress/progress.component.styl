@import "~styles";

$progress-color = $silver
$progress-bg    = $black-coral

// Progress circle
.progress
  $size = 10rem
  background-color $progress-bg
  border-radius 50%
  display inline-block
  height $size
  width $size
  color $progress-color
  position relative
  margin 2rem

  &:before
    align-items center
    background-color $progress-bg
    border-radius 50%
    content attr(data-progress) '%'
    display flex
    font-size 3rem
    justify-content center
    position absolute
    left 1rem
    right 1rem
    top 1rem
    bottom 1rem
    transition transform .2s ease

  &:after
    background-color $progress-bg
    border-radius 50%
    content ''
    display inline-block
    height 100%
    width 100%

  // &:hover
  // &:focus
  //   &:before
  //     transform scale(1.1)

// Steps
$step      = 1
$loops     = round(100 / $step)
$inc       = 360 / $loops
$half      = round($loops / 2)

for $i in (0)..($loops)
  .progress[data-progress={'"' + $i * $step + '"'}]:after
    if $i < $half
      $next-deg = 90deg + $inc * $i
      background-image linear-gradient(90deg, $progress-bg 50%, transparent 50%, transparent), linear-gradient($next-deg, $progress-color 50%, $progress-bg 50%, $progress-bg)
    else
      $next-deg = -90deg + $inc * ($i - $half)
      background-image linear-gradient($next-deg, $progress-color 50%, transparent 50%, transparent), linear-gradient(270deg, $progress-color 50%, $progress-bg 50%, $progress-bg)